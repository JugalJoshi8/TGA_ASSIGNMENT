{"ast":null,"code":"import _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from \"react\";\nimport Head from \"next/head\";\nimport fetch from \"isomorphic-unfetch\";\nimport NewsItem from \"../molecules/NewsItem\";\n\nvar FrontPage = function FrontPage(props) {\n  console.log(props);\n\n  var _useState = useState(props.hits),\n      items = _useState[0],\n      setItems = _useState[1];\n\n  var _useState2 = useState(0),\n      currentPage = _useState2[0],\n      setCurrentPage = _useState2[1];\n\n  var getPageItems = function getPageItems() {\n    var res, json;\n    return _regeneratorRuntime.async(function getPageItems$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(fetch(\"https://hn.algolia.com/api/v1/search?page=\".concat(currentPage + 1)));\n\n          case 2:\n            res = _context.sent;\n            _context.next = 5;\n            return _regeneratorRuntime.awrap(res.json());\n\n          case 5:\n            json = _context.sent;\n            setItems(items.concat(json.hits));\n            setCurrentPage(currentPage + 1);\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, _Promise);\n  };\n\n  return __jsx(\"div\", {\n    className: \"jsx-2693121912\" + \" \" + \"container\"\n  }, __jsx(Head, null, __jsx(\"title\", {\n    className: \"jsx-2693121912\"\n  }, \"Hacker news\"), __jsx(\"link\", {\n    rel: \"icon\",\n    href: \"/favicon.ico\",\n    className: \"jsx-2693121912\"\n  }), __jsx(\"meta\", {\n    name: \"description\",\n    content: \"contains all the latest hacking related news\",\n    className: \"jsx-2693121912\"\n  })), __jsx(\"main\", {\n    className: \"jsx-2693121912\"\n  }, __jsx(\"ul\", {\n    className: \"jsx-2693121912\" + \" \" + \"news-list\"\n  }, items.map(function (item) {\n    return __jsx(NewsItem, {\n      key: item.objectID,\n      item: item\n    });\n  })), __jsx(\"div\", {\n    onClick: getPageItems,\n    className: \"jsx-2693121912\" + \" \" + \"load-more\"\n  }, \"Load more\")), __jsx(_JSXStyle, {\n    id: \"2693121912\"\n  }, [\"ul.jsx-2693121912{margin-bottom:20px;}\", \".load-more.jsx-2693121912{cursor:pointer;margin-bottom:20px;}\"]));\n};\n\nFrontPage.getInitialProps = function _callee(ctx) {\n  var res, json;\n  return _regeneratorRuntime.async(function _callee$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return _regeneratorRuntime.awrap(fetch(\"https://hn.algolia.com/api/v1/search?page=0\"));\n\n        case 2:\n          res = _context2.sent;\n          _context2.next = 5;\n          return _regeneratorRuntime.awrap(res.json());\n\n        case 5:\n          json = _context2.sent;\n          return _context2.abrupt(\"return\", {\n            hits: json.hits\n          });\n\n        case 7:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, _Promise);\n};\n\nexport default FrontPage;","map":null,"metadata":{},"sourceType":"module"}